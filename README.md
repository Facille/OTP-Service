# OTP Service

## –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
–°–µ—Ä–≤–∏—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏ –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏–∏ –æ–¥–Ω–æ—Ä–∞–∑–æ–≤—ã—Ö –ø–∞—Ä–æ–ª–µ–π (OTP) —Å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å—é –æ—Ç–ø—Ä–∞–≤–∫–∏ —á–µ—Ä–µ–∑ —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∫–∞–Ω–∞–ª—ã (email, SMS, Telegram, —Ñ–∞–π–ª). –ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –Ω–∞ Java —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º PostgreSQL.


## üìÅ–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è OTP-–∫–æ–¥–æ–≤

- –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è OTP-–∫–æ–¥–æ–≤

- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ (–¥–ª—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–≤)

- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ OTP (–¥–ª–∏–Ω–∞ –∫–æ–¥–∞, –≤—Ä–µ–º—è –∂–∏–∑–Ω–∏)

## üìä –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏
- –Ø–∑—ã–∫: Java 17

- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: PostgreSQL

- HTTP —Å–µ—Ä–≤–µ—Ä: –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π JDK HttpServer

- –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ: SLF4J + Logback

- –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

- PostgreSQL JDBC Driver

- Jackson (JSON)

- Jsmp (SMS)

- JavaMail (Email)

## üìÇ –°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è:

```
otp-service/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ main/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ java/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ com/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ example/
‚îÇ   ‚îÇ   ‚îÇ           ‚îî‚îÄ‚îÄ otpservice/
‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ api/               # HTTP –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ config/            # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ dao/               # Data Access Objects
‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ dto/               # Data Transfer Objects
‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ model/             # –°—É—â–Ω–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îÇ               ‚îú‚îÄ‚îÄ service/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îÇ               ‚îî‚îÄ‚îÄ Main.java          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ resources/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ db/                            # SQL —Å–∫—Ä–∏–ø—Ç—ã
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ *.properties                   # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
‚îî‚îÄ‚îÄ pom.xml                                    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

```
## ‚ö†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- JDK 17+

- PostgreSQL 12+

- Maven 3.8+

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
1.–°–æ–∑–¥–∞–π—Ç–µ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö:

CREATE DATABASE otp_db;

2.–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–æ—Å—Ç—É–ø –≤ src/main/resources/application.properties:

properties
db.url=jdbc:postgresql://localhost:5432/otp_db
db.username=postgres
db.password=yourpassword

## –°–±–æ—Ä–∫–∞ –∏ –∑–∞–ø—É—Å–∫

mvn clean package

java -jar target/otp-service-1.0-SNAPSHOT.jar

## üìù API Endpoints

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

- POST /api/auth/register - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

{
  "username": "testuser",
  "password": "password123",
  "role": "USER"
}

- POST /api/auth/login - –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è


{
  "username": "testuser",
  "password": "password123"
}

- OTP –æ–ø–µ—Ä–∞—Ü–∏–∏
POST /api/users - –ó–∞–ø—Ä–æ—Å OTP-–∫–æ–¥–∞


{
  "operationId": "login",
  "channel": "EMAIL"
}


- POST /api/users/verify - –í–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è OTP


{
  "operationId": "login",
  "code": "123456"
}
